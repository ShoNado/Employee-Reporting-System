# Telegram Bot на Go

Telegram бот на Go с использованием SQLite для хранения данных пользователей и управления доступом.

## Возможности

- Сохранение информации о пользователях в SQLite базу данных:
  - Username
  - Имя
  - Фамилия
  - Номер телефона
  - Статус (админ/обычный пользователь)
- Управление доступом через систему ролей
- Логирование действий пользователей
- Настройка администраторов через конфиг-файл
- Защита от неавторизованного доступа

## Требования

- Go 1.21 или выше
- SQLite3
- Telegram Bot Token

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone [URL репозитория]
   cd [название директории]
   ```

2. Установите зависимости:
   ```bash
   go mod tidy
   ```

## Настройка

1. Создайте файл `config/config.json` со следующим содержимым:
   ```json
   {
     "bot_token": "YOUR_BOT_TOKEN_HERE",
     "admins": {
       "admin_username": true
     }
   }
   ```

2. Замените `YOUR_BOT_TOKEN_HERE` на токен вашего бота
3. Добавьте username'ы администраторов в список `admins`

## Запуск

```bash
go run cmd/bot/main.go
```

## Структура проекта

```
.
├── cmd/
│   └── bot/
│       └── main.go         # Точка входа приложения
├── config/
│   └── config.json        # Конфигурационный файл
├── db/
│   └── database.go        # Работа с базой данных
├── internal/
│   └── bot.go            # Основная логика бота
├── models/
│   └── user.go           # Модели данных
├── go.mod                # Зависимости Go
└── README.md            # Документация
```

## Получение токена бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания нового бота
4. После создания бота вы получите токен
5. Скопируйте токен в файл `config/config.json`

## Администрирование

### Добавление администратора

1. Откройте файл `config/config.json`
2. Добавьте username администратора в список `admins`:
   ```json
   "admins": {
     "username1": true,
     "username2": true
   }
   ```

### Права администратора

- Доступ ко всем командам бота
- Управление пользователями
- Просмотр статистики

## Безопасность

- Все данные пользователей хранятся в локальной SQLite базе данных
- Доступ к административным функциям ограничен списком администраторов
- Токен бота хранится в конфигурационном файле

## Лицензия

MIT 